<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SUPPLY CHAIN CV-5</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">

<style>

/* =========================================
ROOT
========================================= */

:root{

--bg:#000;
--panel:#050505;
--red:#ff0033;
--redSoft:#ff003322;
--text:#ff0033;

--fontDisplay:'Orbitron',sans-serif;
--fontMono:'JetBrains Mono',monospace;

}

/* =========================================
BASE
========================================= */

body{

background:var(--bg);
color:var(--text);
font-family:var(--fontMono);
margin:0;

}

.section{

border:1px solid var(--redSoft);
padding:20px;
margin:30px;

background:var(--panel);

}

h2{

font-family:var(--fontDisplay);

}

textarea,input{

width:100%;
background:#000;
color:var(--text);
border:1px solid var(--redSoft);
padding:10px;
margin-bottom:10px;

}

button{

background:#000;
color:var(--text);
border:1px solid var(--text);
padding:10px;
cursor:pointer;
margin:3px;

}

button:hover{

background:var(--text);
color:#000;

}

.send{

background:var(--text);
color:#000;
font-weight:bold;
font-size:16px;

}

.output{

border:1px solid var(--redSoft);
padding:10px;
margin-top:10px;

}

/* LOADING */

.loading{

position:fixed;
width:100%;
height:100%;
background:#000;
display:flex;
justify-content:center;
align-items:center;
z-index:9999;

}

.loader{

border:4px solid #111;
border-top:4px solid var(--text);
border-radius:50%;
width:60px;
height:60px;
animation:spin 1s linear infinite;

}

@keyframes spin{

100%{transform:rotate(360deg)}

}

</style>

</head>

<body>


<div class="loading" id="loading">
<div class="loader"></div>
</div>


<h1 style="text-align:center;font-family:Orbitron">SUPPLY CHAIN CV-5</h1>


<!-- =========================================
SECTION 1 NOTEPAD
========================================= -->

<div class="section">

<h2>SECTION 1 — NOTEPAD CONTROL</h2>

<textarea id="note"></textarea>

<button onclick="clearNote()">CLEAR</button>

<button onclick="copyNote()">COPY</button>

<button onclick="saveNote()">SAVE</button>

<button class="send" onclick="sendNote()">SEND</button>

<div id="noteOutput" class="output"></div>

</div>


<!-- =========================================
SECTION 2 MESSAGE BOARD
========================================= -->

<div class="section">

<h2>SECTION 2 — TEAM BOARD</h2>

<input id="codename" placeholder="Codename">

<textarea id="msg"></textarea>

<button onclick="clearMsg()">CLEAR</button>

<button onclick="saveMsg()">SAVE</button>

<button class="send" onclick="sendMsg()">SEND</button>

<div id="board"></div>

</div>


<!-- =========================================
SECTION 3 CHECKLIST
========================================= -->

<div class="section">

<h2>SECTION 3 — CHECKLIST</h2>

<input id="checkInput">

<button onclick="saveCheck()">SAVE</button>

<button class="send" onclick="sendCheck()">SEND</button>

<div id="checklist"></div>

</div>


<!-- =========================================
SECTION 4 CALCULATOR
========================================= -->

<div class="section">

<h2>SECTION 4 — CALCULATOR</h2>

<input id="calcInput">

<button onclick="calc()">CALCULATE</button>

<button onclick="saveCalc()">SAVE</button>

<button class="send" onclick="sendCalc()">SEND</button>

<div id="calcOutput"></div>

</div>


<!-- =========================================
SECTION 5 AI
========================================= -->

<div class="section">

<h2>SECTION 5 — AI TERMINAL</h2>

<textarea id="aiInput"></textarea>

<button onclick="saveAI()">SAVE</button>

<button class="send" onclick="sendAI()">SEND</button>

<div id="aiOutput"></div>

</div>



<script type="module">


/* =========================================
FIREBASE
========================================= */

import { initializeApp }

from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";

import {

getFirestore,
doc,
setDoc,
getDoc,
addDoc,
collection,
onSnapshot,
deleteDoc,
updateDoc,
serverTimestamp

}

from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";



const firebaseConfig = {

apiKey:"AIzaSyD-hhoLpddOoMq1tUlA4SqnwncFnVpaHIQ",
authDomain:"eden-4a8d3.firebaseapp.com",
projectId:"eden-4a8d3",
storageBucket:"eden-4a8d3.appspot.com",
messagingSenderId:"421147129483",
appId:"1:421147129483:web:9495dfb813fe6195f2c68e"

};



const app=initializeApp(firebaseConfig);

const db=getFirestore(app);



/* =========================================
LOADING
========================================= */

window.onload=()=>{

loading.style.display="none";

};



/* =========================================
SECTION 1 NOTEPAD FULL CRUD
========================================= */

async function saveNote(){

localStorage.note=note.value;

}

async function sendNote(){

await setDoc(doc(db,"notes","main"),{

text:note.value,
time:serverTimestamp()

});

}

async function loadNote(){

let snap=await getDoc(doc(db,"notes","main"));

if(snap.exists()) note.value=snap.data().text;

}

loadNote();

function clearNote(){note.value=""}

function copyNote(){

navigator.clipboard.writeText(note.value);

}



/* =========================================
SECTION 2 MESSAGE BOARD FULL CRUD
========================================= */

const boardRef=collection(db,"board");

function saveMsg(){

localStorage.msg=msg.value;

}

async function sendMsg(){

await addDoc(boardRef,{

name:codename.value,
text:msg.value,
time:serverTimestamp()

});

}

onSnapshot(boardRef,snap=>{

board.innerHTML="";

snap.forEach(d=>{

let data=d.data();

let div=document.createElement("div");

div.innerHTML=`

<b>${data.name}</b>

<p>${data.text}</p>

<button onclick="deleteMsg('${d.id}')">DELETE</button>

<button onclick="editMsg('${d.id}','${data.text}')">EDIT</button>

`;

board.appendChild(div);

});

});


window.deleteMsg=async id=>{

await deleteDoc(doc(db,"board",id));

}

window.editMsg=async(id,old)=>{

let text=prompt("Edit",old);

await updateDoc(doc(db,"board",id),{

text:text

});

}



/* =========================================
SECTION 3 CHECKLIST
========================================= */

const checkRef=collection(db,"check");

function saveCheck(){

localStorage.check=checkInput.value;

}

async function sendCheck(){

await addDoc(checkRef,{

text:checkInput.value,
done:false

});

}

onSnapshot(checkRef,snap=>{

checklist.innerHTML="";

snap.forEach(d=>{

let data=d.data();

let div=document.createElement("div");

div.innerHTML=`

<input type="checkbox"

${data.done?"checked":""}

onclick="toggleCheck('${d.id}',${data.done})">

${data.text}

<button onclick="deleteCheck('${d.id}')">DEL</button>

`;

checklist.appendChild(div);

});

});


window.toggleCheck=async(id,done)=>{

await updateDoc(doc(db,"check",id),{

done:!done

});

}

window.deleteCheck=async id=>{

await deleteDoc(doc(db,"check",id));

}



/* =========================================
SECTION 4 CALCULATOR
========================================= */

function calc(){

calcOutput.innerHTML=eval(calcInput.value);

}

function saveCalc(){

localStorage.calc=calcInput.value;

}

async function sendCalc(){

await addDoc(collection(db,"calc"),{

expression:calcInput.value

});

}



/* =========================================
SECTION 5 AI
========================================= */

function saveAI(){

localStorage.ai=aiInput.value;

}

async function sendAI(){

await addDoc(collection(db,"ai"),{

text:aiInput.value

});

aiOutput.innerHTML="AI STORED";

}



</script>

</body>
</html>
