<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Innovations CV-7</title>

<link rel="icon" type="image/png" href="logo.png">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">

<style>

/* ===========================
ROOT
=========================== */

:root{

--bg:#000;
--panel:#050505;
--red:#ff0033;
--green:#00ff41;
--text:#ff0033;

--font1:'Orbitron',sans-serif;
--font2:'JetBrains Mono',monospace;

}

/* ===========================
BASE
=========================== */

*{
box-sizing:border-box;
margin:0;
padding:0;
}

body{

background:#000;
color:var(--red);
font-family:var(--font2);
overflow-x:hidden;

}

/* ===========================
HEADER
=========================== */

header{

position:sticky;
top:0;
background:#000;
padding:20px;
text-align:center;
border-bottom:1px solid var(--red);
z-index:1000;

}

header h1{

font-family:var(--font1);
letter-spacing:6px;

}

/* ===========================
MAIN
=========================== */

main{

padding:20px;
max-width:1400px;
margin:auto;

}

/* ===========================
SECTION
=========================== */

.section{

margin-bottom:40px;
border:1px solid #111;
padding:20px;
background:#050505;

}

.section h2{

margin-bottom:15px;
font-family:var(--font1);

}

/* ===========================
PANELS
=========================== */

.panel{

margin-top:15px;

}

/* ===========================
INPUTS
=========================== */

textarea,
input{

width:100%;
background:#000;
border:1px solid #111;
color:var(--green);
padding:10px;
margin-bottom:10px;
font-family:var(--font2);

}

textarea{

min-height:120px;

}

/* ===========================
BUTTONS
=========================== */

button{

padding:10px;
margin-top:5px;
margin-right:5px;
border:none;
cursor:pointer;
font-family:var(--font2);

}

.save{

background:#222;
color:#fff;

}

.send{

background:var(--green);
color:#000;
font-weight:bold;

}

.delete{

background:#500;
color:#fff;

}

/* ===========================
OUTPUT
=========================== */

.output{

margin-top:15px;
padding:10px;
border:1px solid var(--green);
min-height:40px;
color:var(--green);

}

/* ===========================
CHECKLIST
=========================== */

.task{

display:flex;
gap:10px;
margin-bottom:5px;

}

.task input[type=text]{

flex:1;

}

/* ===========================
FOOTER
=========================== */

footer{

padding:30px;
text-align:center;
border-top:1px solid var(--red);
margin-top:50px;

}

/* ===========================
LOADING
=========================== */

.loading{

position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:#000;
display:none;
align-items:center;
justify-content:center;
z-index:9999;

}

.loading.show{

display:flex;

}

.loader{

border:3px solid #111;
border-top:3px solid var(--green);
width:40px;
height:40px;
border-radius:50%;
animation:spin 1s linear infinite;

}

@keyframes spin{

100%{transform:rotate(360deg)}

}

/* ===========================
TOAST
=========================== */

.toast{

position:fixed;
bottom:20px;
right:20px;
background:#000;
border:1px solid var(--green);
padding:10px;
display:none;
color:var(--green);

}

.toast.show{

display:block;

}

/* ===========================
GLITCH BACKGROUND
=========================== */

canvas{

position:fixed;
top:0;
left:0;
z-index:-1;

}

  .task-list{
  margin-top:10px;
}

.task-item{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px;
  margin-bottom:6px;
  background:#020202;
  border:1px solid #111;
  transition:all .3s ease;
  animation:fadeIn .3s ease;
}

.task-item:hover{
  background:#111;
}

.task-text.checked{
  text-decoration:line-through;
  opacity:.6;
}

@keyframes fadeIn{
  from{opacity:0; transform:translateY(-5px);}
  to{opacity:1; transform:translateY(0);}
}

.mini-section{
  margin-top:20px;
}

  @media(max-width:600px){

  .task-item{
    flex-wrap:wrap;
  }

  .task-item button{
    flex:1;
  }

  .task-creator{
    display:flex;
    flex-direction:column;
    gap:10px;
  }

}

  .upload-box{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-bottom:20px;
}

.intel-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
  gap:15px;
}

.file-card{
  border:1px solid #111;
  padding:10px;
  background:#020202;
  animation:fadeIn .3s ease;
}

.file-card img,
.file-card video{
  width:100%;
  max-height:200px;
  object-fit:cover;
}

.preview audio{
  width:100%;
}

</style>
</head>
<body>

<canvas id="glitch"></canvas>

<header>

<h1><a href="/index.html" style="text-decoration: none; color: #ff0033;" title="back to home...">INNOVATIONS CV-7</a></h1>

</header>

<div class="loading" id="loading">
<div class="loader"></div>
</div>

<div class="toast" id="toast"></div>

<main>

<!-- SECTION 1 -->

<div class="section">

<h2>SECTION 1 — TARGET</h2>

<textarea id="s1_input">
  
</textarea>

<button class="save" onclick="save(1)">SAVE</button>

<button class="send" onclick="send(1)">SEND</button>

<div class="output" id="s1_output"></div>

</div>

  <!-- SECTION 2 -->

  <div class="section">

<h2>SECTION 2 — CHECKLIST</h2>

<!-- TASK CREATOR -->
<div class="task-creator">
  <input id="taskInput" placeholder="Add a task... cipc, embassies, illegalities, taxi association">
  <button class="save" onclick="addTask()">ADD</button>
</div>

<!-- MINI SECTIONS -->
<div class="mini-section">
  <h3>ACTIVE TASKS</h3>
  <div id="activeTasks" class="task-list"></div>
</div>

<div class="mini-section">
  <h3>COMPLETED TASKS</h3>
  <div id="completedTasks" class="task-list"></div>
</div>

</div>

<!-- SECTION 3 -->

<div class="section">

<h2>SECTION 3 — INTEL LOG</h2>

<div class="upload-box">

  <input type="file" id="fileInput" multiple>
  <textarea id="fileNote" placeholder="Add note for these files..."></textarea>

  <button class="save" onclick="uploadFiles()">UPLOAD (MAX 7)</button>

</div>

<div id="intelLog" class="intel-grid"></div>

</div>

<!-- SECTION 4 -->

<div class="section">

<h2>SECTION 4 — n/a</h2>

<textarea id="s4_input"></textarea>

<button class="save" onclick="save(4)">SAVE</button>

<button class="send" onclick="send(4)">SEND</button>

<div class="output" id="s4_output"></div>

</div>


<!-- SECTION 5 -->

<div class="section">

<h2>SECTION 5 — n/a</h2>

<textarea id="s5_input"></textarea>

<button class="save" onclick="save(5)">SAVE</button>

<button class="send" onclick="send(5)">SEND</button>

<div class="output" id="s5_output"></div>

</div>


<!-- SECTION 6 -->

<div class="section">

<h2>SECTION 6 — n/a</h2>

<textarea id="s6_input"></textarea>

<button class="save" onclick="save(6)">SAVE</button>

<button class="send" onclick="send(6)">SEND</button>

<div class="output" id="s6_output"></div>

</div>


<!-- SECTION 7 -->

<div class="section">

<h2>SECTION 7 — ZAMA MDLULI (AI)</h2>

<input id="ai_input">

<button class="send" onclick="ai()">SEND</button>

<div class="output" id="ai_output"></div>

</div>


</main>

<footer>

"The Lord is my light and my salvation; whom shall I fear?" — Psalm 27:1 KJV

</footer>

  <script type="module">

/* =========================================================
CV-7 ENTERPRISE CORE
LOCAL SAVE + CLOUD SEND + FULL RECOVERY + FULL FLOW
========================================================= */


/* =========================================================
FIREBASE IMPORTS
========================================================= */

import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";

import {

getFirestore,
doc,
setDoc,
getDoc,
onSnapshot,
collection,
addDoc,
deleteDoc,
updateDoc,
serverTimestamp

} from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";


/* =========================================================
CONFIG
========================================================= */

const firebaseConfig = {

apiKey: "AIzaSyD-hhoLpddOoMq1tUlA4SqnwncFnVpaHIQ",
authDomain: "eden-4a8d3.firebaseapp.com",
projectId: "eden-4a8d3",
storageBucket: "eden-4a8d3.firebasestorage.app",
messagingSenderId: "421147129483",
appId: "1:421147129483:web:9495dfb813fe6195f2c68e"

};


/* =========================================================
INITIALIZE
========================================================= */

const app = initializeApp(firebaseConfig);

const db = getFirestore(app);


/* =========================================================
GLOBAL SAFE SYSTEM
========================================================= */

const LOCAL_KEY = "CV7_LOCAL";

const loading = document.getElementById("loading");

const toastBox = document.getElementById("toast");


/* =========================================================
LOADING SYSTEM
========================================================= */

function showLoading(){

loading.classList.add("show");

}

function hideLoading(){

loading.classList.remove("show");

}


/* =========================================================
TOAST SYSTEM
========================================================= */

function toast(msg){

toastBox.innerText = msg;

toastBox.classList.add("show");

setTimeout(()=>{

toastBox.classList.remove("show");

},3000);

}


/* =========================================================
LOCAL STORAGE ENGINE
========================================================= */

function getLocal(){

try{

return JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};

}catch{

return {};

}

}


function saveLocal(data){

localStorage.setItem(LOCAL_KEY,JSON.stringify(data));

}


function saveLocalSection(id,value){

let data = getLocal();

data["s"+id] = value;

saveLocal(data);

}


function loadLocalSection(id){

let data = getLocal();

return data["s"+id] || "";

}


/* =========================================================
SECTION SAVE (LOCAL)
========================================================= */

window.save = async function(id){

try{

showLoading();

let value = document.getElementById("s"+id+"_input").value;

saveLocalSection(id,value);

toast("Saved Locally");

}catch(e){

toast("Local Save Error");

console.error(e);

}

hideLoading();

};


/* =========================================================
SECTION SEND (CLOUD)
========================================================= */

window.send = async function(id){

showLoading();

try{

let value = document.getElementById("s"+id+"_input").value;

await setDoc(doc(db,"cv7_sections","s"+id),{

content:value,

time:serverTimestamp()

});

document.getElementById("s"+id+"_output").innerText=value;

toast("Sent To Cloud");

}catch(e){

toast("Cloud Send Failed");

console.error(e);

}

hideLoading();

};


/* =========================================================
LOAD SECTIONS CLOUD FIRST LOCAL BACKUP SECOND
========================================================= */

async function loadSections(){

showLoading();

try{

for(let i=1;i<=6;i++){

let ref = doc(db,"cv7_sections","s"+i);

let snap = await getDoc(ref);

if(snap.exists()){

let value = snap.data().content;

document.getElementById("s"+i+"_input").value=value;

document.getElementById("s"+i+"_output").innerText=value;

saveLocalSection(i,value);

}else{

document.getElementById("s"+i+"_input").value=loadLocalSection(i);

}

}

}catch(e){

toast("Cloud Load Failed");

console.error(e);

}

hideLoading();

}


/* =========================================================
TASK SYSTEM CLOUD
========================================================= */

const taskCol = collection(db,"cv7_tasks");

window.addTask = async function(){

let input=document.getElementById("taskInput");

if(!input.value)return;

showLoading();

try{

await addDoc(taskCol,{

text:input.value,

done:false,

time:serverTimestamp()

});

input.value="";

toast("Task Added");

}catch(e){

toast("Task Add Failed");

console.error(e);

}

hideLoading();

};


function renderTask(id,data){

let div=document.createElement("div");

div.className="task-item";

div.innerHTML=`

<input type="checkbox" ${data.done?"checked":""}>

<span>${data.text}</span>

<button>X</button>

`;


div.querySelector("input").onchange=async()=>{

await updateDoc(doc(db,"cv7_tasks",id),{

done:!data.done

});

};


div.querySelector("button").onclick=async()=>{

await deleteDoc(doc(db,"cv7_tasks",id));

};


return div;

}


function loadTasks(){

onSnapshot(taskCol,(snap)=>{

activeTasks.innerHTML="";

completedTasks.innerHTML="";

snap.forEach(docu=>{

let el=renderTask(docu.id,docu.data());

if(docu.data().done)

completedTasks.appendChild(el);

else

activeTasks.appendChild(el);

});

});

}


/* =========================================================
FILE SYSTEM LOCAL ONLY WITH PREVIEW
========================================================= */

window.uploadFiles=function(){

let files=fileInput.files;

if(!files.length)return;

let store=getLocal();

if(!store.files)store.files=[];

Array.from(files).forEach(file=>{

let reader=new FileReader();

reader.onload=function(){

store.files.push({

name:file.name,

type:file.type,

data:reader.result,

note:fileNote.value

});

saveLocal(store);

loadFiles();

};

reader.readAsDataURL(file);

});

};


function loadFiles(){

intelLog.innerHTML="";

let store=getLocal();

if(!store.files)return;

store.files.forEach((f,i)=>{

let div=document.createElement("div");

div.className="file-card";

let preview="";

if(f.type.startsWith("image"))

preview=`<img src="${f.data}">`;

else if(f.type.startsWith("video"))

preview=`<video controls src="${f.data}"></video>`;

else if(f.type.startsWith("audio"))

preview=`<audio controls src="${f.data}"></audio>`;

div.innerHTML=`

${preview}

<p>${f.name}</p>

<p>${f.note}</p>

<button onclick="deleteFile(${i})">Delete</button>

`;

intelLog.appendChild(div);

});

}


window.deleteFile=function(i){

let store=getLocal();

store.files.splice(i,1);

saveLocal(store);

loadFiles();

};


/* =========================================================
AUTO SAVE
========================================================= */

setInterval(()=>{

for(let i=1;i<=6;i++){

saveLocalSection(i,document.getElementById("s"+i+"_input").value);

}

},5000);


/* =========================================================
NETWORK DETECTION
========================================================= */

window.addEventListener("offline",()=>toast("Offline"));

window.addEventListener("online",()=>toast("Online Sync Ready"));


/* =========================================================
INIT
========================================================= */

loadSections();

loadTasks();

loadFiles();

toast("CV7 READY");

</script>
  
</body>
</html>


















