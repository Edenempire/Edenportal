<!DOCTYPE html>

<html lang="en">
    
<head>
    
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <title>Eden stealth CV-1</title>
    
    <meta name="description" content="Tier 1 Operator Team.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Electrolize&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- ===== CIRCLE FAVICON ===== -->
    <link rel="icon" type="image/png" href="logo.png" sizes="16x16">
    <link rel="icon" type="image/png" href="logo.png" sizes="32x32">
    <link rel="icon" type="image/png" href="logo.png" sizes="48x48">
    <link rel="icon" type="image/png" href="logo.png" sizes="96x96">
    <link rel="icon" type="image/png" href="logo.png" sizes="192x192">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="logo.png">
    <link rel="apple-touch-icon-precomposed" href="logo.png">
    
    <!-- Microsoft Tiles -->
    <meta name="msapplication-TileImage" content="logo.png">
    <meta name="msapplication-TileColor" content="#000000">

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Theme and PWA meta tags -->
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <style>
        
        :root {
            --cyan: #00ffff;
            --cyan-dim: rgba(0, 255, 255, 0.15);
            --cyan-glow: 0 0 15px rgba(0, 255, 255, 0.5);
            --bg-black: #050505;
            --panel-bg: rgba(0, 10, 10, 0.85);
            --font-tactical: 'Orbitron', sans-serif;
            --font-body: 'Electrolize', sans-serif;
            --font-mono: 'VT323', monospace;
            --transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);
            --header-h: 90px;
        }

        /* ===============================
        THEME: GREEN-YELLOW MODE
        =============================== */
        body.green-yellow {
            --cyan: #d4ff00;
            --cyan-dim: rgba(212, 255, 0, 0.18);
            --cyan-glow: 0 0 18px rgba(212, 255, 0, 0.6);
            --bg-black: #0b0f00;
            --panel-bg: rgba(20, 30, 0, 0.88);
        }

        body,
        .ops-card,
        .branch-card,
        #main-header,
        #main-footer {
            transition: background 0.4s ease, color 0.4s ease, border-color 0.4s ease, box-shadow 0.4s ease;
        }

        /* ===============================
        THEME TOGGLE BUTTON
        =============================== */
        .theme-toggle {
            margin-top: 25px;
            background: transparent;
            border: 1px solid var(--cyan);
            color: var(--cyan);
            padding: 12px 28px;
            font-family: var(--font-tactical);
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: var(--transition);
        }
        .theme-toggle:hover {
            background: var(--cyan);
            color: #000;
            box-shadow: var(--cyan-glow);
        }

        /* --- BASE STYLES --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; overflow-x: hidden; }
        
        body {
            background: radial-gradient(circle at top, #0a0f14, #000000 70%);
            background-color: var(--bg-black);
            color: var(--cyan);
            font-family: var(--font-body);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* Tactical Scrollbar */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: var(--cyan); border-radius: 2px; }

        .scanlines {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%),
                        linear-gradient(90deg, rgba(255, 0, 0, 0.02), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.02));
            background-size: 100% 3px, 3px 100%;
            z-index: 1000;
            pointer-events: none;
        }

        /* --- ADVANCED HEADER --- */
        #main-header {
            position: fixed;
            top: 0;
            width: 100%;
            height: var(--header-h);
            background: rgba(0,0,0,0.9);
            border-bottom: 2px solid var(--cyan);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: flex;
            align-items: center;
        }

        .header-container {
            width: 95%;
            max-width: 1800px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }
        
        .brand-unit {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            pointer-events: auto;
            -webkit-tap-highlight-color: transparent;
            z-index: 2000;
        }

        .logo-frame {
            position: relative;
            width: 60px; height: 60px;
        }

        .logo-img {
            width: 100%; height: 100%;
            border-radius: 50%;
            border: 2px solid var(--cyan);
            padding: 3px;
            box-shadow: var(--cyan-glow);
        }

        .logo-ring {
            position: absolute;
            top: -5px; left: -5px; width: 70px; height: 70px;
            border: 1px dashed var(--cyan);
            border-radius: 50%;
            animation: spin 8s linear infinite;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }

        .brand-text h1 {
            font-family: var(--font-tactical);
            font-size: 1.8rem;
            letter-spacing: 4px;
            text-transform: uppercase;
        }

        .brand-text span {
            font-family: var(--font-mono);
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* ===============================
        CLEAN MENU - FIXED VERSION
        =============================== */
        
        /* Overlay - covers everything behind menu */
        .nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 3500;
            backdrop-filter: blur(3px);
        }
        
        .nav-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Menu panel - slides in from right */
        .nav-system {
            position: fixed;
            top: 0;
            right: -320px; /* Start hidden */
            width: 300px;
            height: 100vh;
            background: #000;
            border-left: 2px solid var(--cyan);
            display: flex;
            flex-direction: column;
            padding: 80px 0 20px 0; /* Top padding to clear header */
            transition: right 0.3s ease;
            z-index: 4000;
            box-shadow: -5px 0 30px rgba(0,255,255,0.3);
            overflow-y: auto;
        }
        
        .nav-system.open {
            right: 0;
        }
        
        /* Header section inside menu */
        .nav-header {
            padding: 0 20px 20px 20px;
            border-bottom: 1px solid var(--cyan-dim);
        }
        
        .nav-title {
            font-family: var(--font-tactical);
            font-size: 1.2rem;
            color: var(--cyan);
            letter-spacing: 3px;
            text-transform: uppercase;
        }
        
        /* Menu links container */
        .nav-links {
            flex: 1;
            padding: 20px 0;
        }
        
        /* Individual menu items */
        .nav-link {
            display: block;
            padding: 16px 25px;
            color: #fff;
            text-decoration: none;
            font-family: var(--font-tactical);
            font-size: 1.1rem;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .nav-link:hover {
            background: rgba(0, 255, 255, 0.1);
            border-left-color: var(--cyan);
            color: var(--cyan);
        }
        
        .nav-link:active {
            background: rgba(0, 255, 255, 0.2);
        }
        
        /* Footer section */
        .nav-footer {
            padding: 20px 25px;
            border-top: 1px solid var(--cyan-dim);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            color: var(--cyan);
        }
        
        .nav-status {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background: #00ff00;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        #navTime {
            font-size: 0.9rem;
            opacity: 0.8;
            font-family: var(--font-mono);
        }
        
        /* Hamburger button */
        #hamburger {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 54px;
            height: 54px;
            background: transparent;
            border: 2px solid var(--cyan);
            border-radius: 8px;
            color: var(--cyan);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 4500; /* Higher than menu */
            outline: none;
            -webkit-tap-highlight-color: transparent;
            position: absolute;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        #hamburger i {
            font-size: 2rem;
            transition: transform 0.3s ease;
        }
        
        #hamburger:hover {
            background: var(--cyan-dim);
        }
        
        #hamburger.active {
            background: var(--cyan);
            color: #000;
        }
        
        #hamburger.active i {
            transform: rotate(90deg);
        }
        
        /* Mobile optimization */
        @media (max-width: 768px) {
            .nav-system {
                width: 280px;
                right: -280px;
            }
            
            #hamburger {
                width: 48px;
                height: 48px;
                right: 20px;
            }
            
            .nav-link {
                padding: 14px 20px;
                font-size: 1rem;
            }
        }

        /* -- */
        
        #hero {
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100svh;
            padding-top: calc(var(--header-h) + clamp(50px, 8vh, 120px));
            padding-bottom: clamp(60px, 10vh, 140px);
            padding-left: 20px;
            padding-right: 20px;
            text-align: center;
            background: radial-gradient(circle at center, rgba(0,255,255,0.06), transparent 65%);
        }

        .hero-title {
            font-family: var(--font-tactical);
            font-weight: 900;
            text-transform: uppercase;
            font-size: clamp(2.5rem, 7.5vw, 6rem);
            letter-spacing: clamp(4px, 1.2vw, 14px);
            color: #ffffff;
            text-shadow: 0 0 4px rgba(0,255,255,0.5), 0 0 10px rgba(0,255,255,0.25);
            margin: 0 0 25px;
            max-width: 95%;
        }

        .hero-subtitle {
            font-family: var(--font-mono);
            font-size: 1.5rem;
            color: var(--cyan);
            letter-spacing: 5px;
            height: 1.6em;
            text-transform: uppercase;
        }

        .cta-group { margin-top: 50px; display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }

        .btn-tactical {
            background: transparent;
            border: 1px solid var(--cyan);
            color: var(--cyan);
            padding: 15px 40px;
            font-family: var(--font-tactical);
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        .btn-tactical::before {
            content: '';
            position: absolute;
            top: 0; left: -100%; width: 100%; height: 100%;
            background: var(--cyan);
            transition: var(--transition);
            z-index: -1;
        }

        .btn-tactical:hover { color: black; box-shadow: var(--cyan-glow); }
        .btn-tactical:hover::before { left: 0; }

        section {
            padding: 100px 5%;
            max-width: 1600px;
            margin: 0 auto;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
        }

        section.revealed { opacity: 1; transform: translateY(0); }

        .section-header { margin-bottom: 60px; display: flex; align-items: center; gap: 20px; flex-wrap: wrap; }
        .section-title {
            font-family: var(--font-tactical);
            font-size: 2.5rem;
            text-transform: uppercase;
            background: linear-gradient(90deg, #fff, var(--cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .separator { height: 2px; flex-grow: 1; background: var(--cyan-dim); min-width: 50px; }

        .Operator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
        }

        .ops-card {
            background: var(--panel-bg);
            border: 1px solid var(--cyan-dim);
            transition: var(--transition);
            clip-path: polygon(0 0, 90% 0, 100% 10%, 100% 100%, 10% 100%, 0 90%);
        }

        .ops-card:hover {
            border-color: var(--cyan);
            box-shadow: var(--cyan-glow);
            transform: translateY(-5px);
        }

        .ops-header {
            padding: 30px;
            display: flex;
            gap: 20px;
            align-items: center;
            border-bottom: 1px solid var(--cyan-dim);
            flex-wrap: wrap;
        }

        .ops-img {
            width: 100px; height: 100px;
            border: 2px solid var(--cyan);
            padding: 5px;
            background: #000;
            object-fit: cover;
        }

        .ops-info h3 { font-family: var(--font-tactical); color: #fff; }
        .ops-info span { color: var(--cyan); font-family: var(--font-mono); font-size: 0.9rem; }
        .ops-stats {
            padding: 20px 30px;
            background: rgba(0, 255, 255, 0.02);
            font-family: var(--font-mono);
            font-size: 0.9rem;
        }
        .stat-line { display: flex; justify-content: space-between; margin-bottom: 8px; border-bottom: 1px dotted rgba(0, 255, 255, 0.2); }
        .tier-1 { color: #ff0055; font-weight: bold; }

        .branch-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .branch-card {
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--cyan-dim);
            text-align: center;
            transition: var(--transition);
        }

        .branch-card:hover {
            background: var(--cyan-dim);
            border-color: var(--cyan);
        }

        .branch-card i { font-size: 3rem; margin-bottom: 20px; color: var(--cyan); }
        .branch-card h3 { font-family: var(--font-tactical); margin-bottom: 15px; }

        .branch-logo-frame {
            position: relative;
            width: 120px; height: 120px;
            margin: 0 auto 20px;
            border: 1px solid var(--cyan-dim);
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0,255,255,0.03);
            overflow: hidden;
            transition: var(--transition);
        }

        .branch-logo {
            max-width: 85%; max-height: 85%;
            object-fit: contain;
            filter: brightness(0.9) contrast(1.1);
            transition: var(--transition);
        }

        .branch-card:hover .branch-logo-frame {
            border-color: var(--cyan);
            box-shadow: var(--cyan-glow);
            background: rgba(0,255,255,0.08);
        }

        .branch-card:hover .branch-logo { transform: scale(1.08); filter: brightness(1.1); }
        .logo-scan {
            position: absolute; width: 100%; height: 40%; top: -50%;
            background: linear-gradient(to bottom, transparent, rgba(0,255,255,0.3), transparent);
            animation: scanMove 4s linear infinite;
            pointer-events: none;
        }
        @keyframes scanMove { 0% { top: -50%; } 100% { top: 120%; } }

        #terminal-wrap {
            background: #000;
            border: 2px solid var(--cyan);
            border-radius: 5px;
            margin-top: 50px;
            padding: 20px;
            box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.1);
        }

        #terminal-output {
            height: 300px;
            overflow-y: auto;
            font-family: var(--font-mono);
            font-size: 1.1rem;
            line-height: 1.4;
            margin-bottom: 15px;
            white-space: pre-wrap;
        }

        .terminal-input-row { display: flex; align-items: center; gap: 10px; }
        #term-input {
            flex-grow: 1;
            background: transparent;
            border: none;
            color: #fff;
            font-family: var(--font-mono);
            font-size: 1.2rem;
            outline: none;
        }

        #main-footer {
            border-top: 2px solid var(--cyan);
            padding: 60px 5%;
            background: #000;
            text-align: center;
            margin-top: 100px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 50px;
        }

        .weather-panel {
            background: rgba(0, 255, 255, 0.05);
            padding: 20px;
            border-radius: 4px;
            display: inline-block;
        }

        .hud-nav {
            position: fixed;
            right: 30px;
            bottom: 30px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 3000;
        }

        .hud-btn {
            width: 50px; height: 50px;
            background: #000;
            border: 1px solid var(--cyan);
            color: var(--cyan);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .hud-btn:hover { background: var(--cyan); color: #000; }

        .modal-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 5000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-body {
            background: var(--bg-black);
            border: 2px solid var(--cyan);
            max-width: 800px;
            width: 100%;
            padding: 40px;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 20px; right: 20px;
            font-size: 2rem;
            cursor: pointer;
        }

        #snowCanvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        /* ============================
        ELITE SPLASH SCREEN - CLEAN VERSION
        ============================ */
        #eliteSplash {
            position: fixed;
            inset: 0;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999999;
            animation: tacticalFade 1s ease 5s forwards;
            overflow: hidden;
        }

        @keyframes tacticalFade {
            to { opacity: 0; visibility: hidden; }
        }

        .splash-core {
            text-align: center;
            color: var(--cyan);
            position: relative;
            width: 100%;
            max-width: 600px;
            padding: 40px 20px;
            z-index: 10;
        }

        .splash-hex-bg {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 150%;
            height: 150%;
            background-image: 
                radial-gradient(circle at 30% 40%, rgba(0, 255, 255, 0.02) 0px, transparent 2px),
                radial-gradient(circle at 70% 60%, rgba(0, 255, 255, 0.02) 0px, transparent 2px);
            pointer-events: none;
            z-index: 1;
        }

        .splash-logo-container {
            position: relative;
            width: 160px;
            height: 160px;
            margin: 0 auto 20px;
            z-index: 20;
        }

        .splash-logo {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid var(--cyan);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
            position: relative;
            z-index: 3;
            object-fit: cover;
        }

        .splash-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            font-weight: 900;
            letter-spacing: 8px;
            margin-top: 20px;
            position: relative;
            z-index: 20;
            color: #fff;
            text-shadow: 0 0 5px rgba(0, 255, 255, 0.3);
        }

        .splash-version-badge {
            margin: 15px 0 25px;
            display: flex;
            flex-direction: column;
            gap: 5px;
            z-index: 20;
            position: relative;
        }

        .version-number {
            font-family: 'VT323', monospace;
            font-size: 1.5rem;
            color: var(--cyan);
            background: rgba(0, 255, 255, 0.05);
            padding: 5px 15px;
            border: 1px solid var(--cyan-dim);
            display: inline-block;
            margin: 0 auto;
            letter-spacing: 2px;
        }

        .splash-loading-container {
            width: 100%;
            max-width: 400px;
            margin: 30px auto;
            padding: 20px;
            background: rgba(0, 10, 10, 0.8);
            border: 1px solid var(--cyan-dim);
            position: relative;
            z-index: 20;
            backdrop-filter: blur(5px);
        }

        .splash-loading-header {
            display: flex;
            justify-content: space-between;
            font-family: 'VT323', monospace;
            font-size: 1rem;
            color: var(--cyan);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .loading-percentage {
            color: #fff;
            font-weight: bold;
        }

        .splash-loader {
            width: 100%;
            height: 20px;
            background: #111;
            border: 1px solid var(--cyan-dim);
            position: relative;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .splash-bar {
            height: 100%;
            background: var(--cyan);
            width: 0%;
            animation: tacticalLoading 4.5s linear forwards;
            position: relative;
        }

        @keyframes tacticalLoading {
            0% { width: 0%; }
            20% { width: 35%; }
            40% { width: 55%; }
            60% { width: 75%; }
            80% { width: 90%; }
            95% { width: 98%; }
            100% { width: 100%; }
        }

        .splash-loading-footer {
            display: flex;
            justify-content: space-between;
            font-family: 'VT323', monospace;
            font-size: 0.9rem;
            color: rgba(0, 255, 255, 0.6);
            margin-top: 5px;
        }

        .loading-status {
            color: var(--cyan);
            animation: blinkStatus 2s infinite;
        }

        @keyframes blinkStatus {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .splash-system-checks {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            z-index: 20;
            position: relative;
            flex-wrap: wrap;
        }

        .system-check {
            font-family: 'VT323', monospace;
            font-size: 0.9rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 8px 12px;
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--cyan-dim);
            min-width: 100px;
        }

        .check-label {
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            font-size: 0.8rem;
        }

        .check-status { font-size: 0.9rem; }
        .status-active { color: #00ff00; }
        .status-pending { color: #ffff00; }

        /* =====================================
        PWA INSTALL BUTTON
        ===================================== */
        #installBtn {
            display: none;
            background: transparent;
            border: 2px solid var(--cyan);
            color: var(--cyan);
            padding: 15px 38px;
            font-family: var(--font-tactical);
            font-size: 0.9rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        #installBtn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(120deg, transparent, rgba(0,255,255,0.4), transparent);
            transition: 0.6s;
        }

        #installBtn:hover {
            color: #000;
            background: var(--cyan);
            box-shadow: 0 0 15px var(--cyan), inset 0 0 10px rgba(0,255,255,0.5);
        }

        #installBtn:hover::before { left: 100%; }
        #installBtn:active { transform: scale(0.96); }
        #installBtn.installing { border-color: orange; color: orange; box-shadow: 0 0 15px orange; }
        #installBtn.installed { border-color: lime; color: lime; box-shadow: 0 0 20px lime; }

        /* ============================
        HAMBURGER FIXES
        ============================ */
        * {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
        }

        .logo-frame, .brand-text {
            pointer-events: none;
        }

        /* ===============================
        REFRESH NOTIFICATION SYSTEM
        =============================== */
        #refresh-notification {
            position: fixed;
            top: 100px;
            right: 30px;
            background: rgba(0, 0, 0, 0.95);
            border: 1px solid var(--cyan);
            border-left: 4px solid var(--cyan);
            padding: 20px;
            min-width: 280px;
            z-index: 10000;
            backdrop-filter: blur(10px);
            animation: slideIn 0.3s ease;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
            font-family: var(--font-mono);
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes fadeOut {
            to { opacity: 0; transform: translateX(100%); }
        }

        .refresh-icon {
            font-size: 2rem;
            color: var(--cyan);
            animation: spin 2s linear infinite;
            margin-bottom: 10px;
            text-align: center;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .refresh-text {
            font-family: var(--font-tactical);
            font-size: 1rem;
            color: #fff;
            text-align: center;
            letter-spacing: 2px;
            margin-bottom: 15px;
        }

        .refresh-progress {
            width: 100%;
            height: 4px;
            background: #222;
            margin: 15px 0;
            overflow: hidden;
        }

        .refresh-bar {
            height: 100%;
            background: var(--cyan);
            width: 0%;
            transition: width 0.1s linear;
        }

        .refresh-status {
            font-family: var(--font-mono);
            font-size: 0.9rem;
            color: var(--cyan);
            text-align: center;
            opacity: 0.8;
        }

        /* ===============================
        AUDIO STATUS INDICATOR
        =============================== */
        .audio-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid var(--cyan);
            border-radius: 30px;
            padding: 8px 18px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 99999;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            backdrop-filter: blur(5px);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
        }

        .audio-status.visible { opacity: 1; }

        .audio-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ff0055;
            transition: background 0.3s ease;
        }

        .audio-indicator.active {
            background: #00ff00;
            animation: audioPulse 1s infinite;
        }

        .audio-indicator.anthem {
            background: var(--cyan);
            animation: anthemPulse 0.5s infinite;
        }

        @keyframes audioPulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.5); }
            100% { opacity: 1; transform: scale(1); }
        }

        @keyframes anthemPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); background: #00ffff; }
            100% { transform: scale(1); }
        }

        .audio-text { color: #fff; letter-spacing: 1px; }

        /* Flag playing state */
        #rsaFlag {
            position: fixed;
            bottom: 18px;
            left: 28px;
            width: 90px;
            height: auto;
            z-index: 99998;
            border-radius: 4px;
            opacity: 0.9;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
        }

        #rsaFlag.playing {
            animation: flagGlow 1s infinite;
            opacity: 1;
        }

        @keyframes flagGlow {
            0% { box-shadow: 0 0 5px rgba(0, 255, 255, 0.3); }
            50% { box-shadow: 0 0 20px var(--cyan); }
            100% { box-shadow: 0 0 5px rgba(0, 255, 255, 0.3); }
        }

        /* Mobile responsive */
        @media (max-width: 600px) {
            .splash-logo-container { width: 120px; height: 120px; }
            .splash-title { font-size: 2rem; letter-spacing: 4px; }
            .splash-system-checks { gap: 10px; }
            .system-check { min-width: 80px; padding: 5px 8px; }
            #rsaFlag { width: 65px; bottom: 12px; left: 12px; }
            .audio-status { bottom: 12px; right: 12px; padding: 5px 12px; font-size: 0.7rem; }
            #refresh-notification {
                top: auto;
                bottom: 30px;
                right: 20px;
                left: 20px;
                min-width: auto;
            }
        }
    </style>
</head>

<body>
    <!-- ELITE SPLASH SCREEN -->
    <div id="eliteSplash">
        <div class="splash-core">
            <div class="splash-hex-bg"></div>
            <div class="splash-logo-container">
                <img src="logo.png" class="splash-logo" alt="ES-CV-1">
            </div>
            <h1 class="splash-title">ES-CV-1</h1>
            <div class="splash-version-badge">
                <span class="version-number">v.1.0.0</span>
            </div>
            <div class="splash-loading-container">
                <div class="splash-loading-header">
                    <span>SYSTEM BOOT SEQUENCE</span>
                    <span class="loading-percentage" id="loadingPercentage">0%</span>
                </div>
                <div class="splash-loader">
                    <div class="splash-bar" id="splashBar"></div>
                </div>
                <div class="splash-loading-footer">
                    <span class="loading-status" id="loadingStatus">INITIALIZING CORE SYSTEMS...</span>
                    <span class="loading-progress" id="loadingProgress">[00:00:03]</span>
                </div>
            </div>
            <div class="splash-system-checks">
                <div class="system-check">
                    <span class="check-label">ENCRYPTION</span>
                    <span class="check-status status-active">● AES-256</span>
                </div>
                <div class="system-check">
                    <span class="check-label">SECURE LINK</span>
                    <span class="check-status status-active">● ESTABLISHED</span>
                </div>
                <div class="system-check">
                    <span class="check-label">BIOMETRIC</span>
                    <span class="check-status status-pending">○ PENDING</span>
                </div>
            </div>
        </div>
    </div>

    <canvas id="snowCanvas"></canvas>
    <div class="scanlines"></div>

    <!-- HUD Navigation -->
    <div class="hud-nav">
        <button class="hud-btn" onclick="window.internalRefresh()" title="Internal Refresh">
            <i class="fas fa-sync-alt"></i>
        </button>
        <button class="hud-btn" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
            <i class="fas fa-angle-double-up"></i>
        </button>
        <button class="hud-btn" onclick="scrollToSection('board')">
            <i class="fas fa-crosshairs"></i>
        </button>
        <button class="hud-btn" onclick="window.scrollTo({top: document.body.scrollHeight, behavior: 'smooth'})">
            <i class="fas fa-angle-double-down"></i>
        </button>
    </div>

    <!-- Header -->
    <header id="main-header">
        <div class="header-container">
            <a href="javascript:location.reload()" class="brand-unit">
                <div class="logo-frame">
                    <img src="logo.png" alt="Eden" class="logo-img">
                    <div class="logo-ring"></div>
                </div>
                <div class="brand-text">
                    <h1>Tier 1</h1>
                </div>
            </a>
            <!-- Hamburger Button -->
            <button id="hamburger" type="button" aria-label="Menu" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            
            <!-- Navigation System -->
            <nav class="nav-system" id="navSystem">
                <!-- Simple Header -->
                <div class="nav-header">
                    <div class="nav-title">NAVIGATION</div>
                </div>
            
                <!-- YOUR MENU ITEMS - Clearly visible -->
                <div class="nav-links">
                    <a href="#board" class="nav-link">Team profile</a>
                    <a href="#subsidiaries" class="nav-link">Branches</a>
                    <a href="essmain.html" class="nav-link">E.S.S</a>
                    <a href="our_story.html" class="nav-link">Our Story</a>
                    <a href="#terminal-section" class="nav-link">Terminal</a>
                    <a href="#main-footer" class="nav-link">Contact</a>
                </div>
            
                <!-- Simple Footer -->
                <div class="nav-footer">
                    <div class="nav-status">
                        <span class="status-dot"></span>
                        <span>SECURE</span>
                    </div>
                    <div id="navTime">--:--:--</div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <section id="hero" style="opacity: 1; transform: none;">
            <div id="offline-banner" style="display:none;position:fixed;top:90px;width:100%;background:#ff0055;color:#fff;text-align:center;padding:5px;z-index:5000;">
                You are offline. Homepage is fully available.
            </div>
            <div style="font-family: var(--font-mono); margin-bottom: 10px;">[ ACCESS GRANTED: PUBLIC ENTRANCE ]</div>
            <h1 class="hero-title">Eden stealth CV-1</h1>
            <div class="hero-subtitle typing-effect" style="text-align: center;" data-text="Under the Best Operator unit in the entire universe."></div>
            <div class="cta-group">
                <button class="btn-tactical" onclick="scrollToSection('about')">Engage Protocol</button>
                <button class="btn-tactical" onclick="openModal('visionModal')">Read Manifest</button>
            </div>
        </section>

        <section id="about">
            <div class="section-header">
                <h2 class="section-title">The Foundation</h2>
                <div class="separator"></div>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 50px;">
                <div style="line-height: 2;">
                    <p style="font-size: 1.4rem; color: #fff;"><strong>First and foremost, we Direct Action For God.</strong></p>
                    <p>The Operator Team name <strong>Eden stealth CV-1</strong> was given to us by God—our Most High, signifying the beginning, foundation, and source @ Direct Actioning. We stand for the Defense of HQ, and the Re-private of our Great Land, South Africa.</p>
                </div>
            </div>
        </section>

        <section id="board">
            <div class="section-header">
                <h2 class="section-title">Eden Stealth CV-1</h2>
                <div class="separator"></div>
                <i class="fas fa-crosshairs" style="font-size: 2rem;"></i>
            </div>
            <div class="Operator-grid">
                <!-- Operator cards (keep your existing ones) -->
                <div class="ops-card">
                    <div class="ops-header">
                        <img src="images/hoss.png" class="ops-img" alt="Morake">
                        <div class="ops-info">
                            <h3>Thato 'Hoss' Morake</h3>
                            <span>01. THE PRESIDENT</span>
                        </div>
                    </div>
                    <div class="ops-stats">
                        <div class="stat-line"><span>ROLE:</span><span>Founder / Chairman / CIO</span></div>
                        <div class="stat-line"><span>RANK:</span><span class="tier-1">Commander-in-Chief</span></div>
                        <div class="stat-line"><span>BORN:</span><span>03 OCTOBER 2002(Blessedistheman.)</span></div>
                        <div class="stat-line"><span>SHIFT:</span><span>  // Mon to Thurs :: 17:00pm - 01:00am</span></div> 
                    </div>
                </div>
                <!-- Add remaining operator cards here... -->
                    <div class="ops-card">
                        <div class="ops-header">
                            <img src="images/joy.jpg" class="ops-img" alt="Joyson">
                            <div class="ops-info">
                                <h3>Joyson</h3>
                                <span>02. CEO</span>
                            </div>
                        </div>
                        <div class="ops-stats">
                            <div class="stat-line"><span>ROLE:</span><span>Executive</span></div>
                            <div class="stat-line"><span>RANK:</span><span>Sergeant</span></div>
                            <div class="stat-line"><span>BORN:</span><span>--</span></div>
                            <div class="stat-line"><span>SHIFT:</span><span>  // Mon to Wed :: 10:00pm - 16:00pm</span></div>
                        </div>
                    </div>
    
                    <div class="ops-card">
                        <div class="ops-header">
                            <img src="images/frost.jpg" class="ops-img" alt="Frost">
                            <div class="ops-info">
                                <h3>Arnold 'Tobin Frost' Khumalo</h3>
                                <span>03. CSCO</span>
                            </div>
                        </div>
                        <div class="ops-stats">
                            <div class="stat-line"><span>ROLE:</span><span>Routes / Artillery</span></div>
                            <div class="stat-line"><span>RANK:</span><span>Tier 3 operative</span></div>
                            <div class="stat-line"><span>BORN:</span><span>19 September 2001</span></div>
                            <div class="stat-line"><span>SHIFT:</span><span>  // Mon to Sat :: 09:00am - 17:00pm</span></div>
                        </div>
                    </div>
    
                    <div class="ops-card">
                        <div class="ops-header">
                            <img src="images/xan.jpg" class="ops-img" alt="Xolisa">
                            <div class="ops-info">
                                <h3>Xolisa (Xan)</h3>
                                <span>06. CTO</span>
                            </div>
                        </div>
                        <div class="ops-stats">
                            <div class="stat-line"><span>ROLE:</span><span>Computer Science</span></div>
                            <div class="stat-line"><span>RANK:</span><span>Tier 3 operative</span></div>
                            <div class="stat-line"><span>BORN:</span><span>--</span></div>
                            <div class="stat-line"><span>SHIFT:</span><span> // Mon to Wed :: 12:00pm - 16:00pm</span></div>
                        </div>
                    </div>
    
                    <div class="ops-card">
                        <div class="ops-header">
                            <img src="images/morpheus.jpg" class="ops-img" alt="Khayyim">
                            <div class="ops-info">
                                <h3>Olama Khayyim</h3>
                                <span>09. COMPLIANCE OFFICER & FRONT-END ALGORITHMIST</span>
                            </div>
                        </div>
                        <div class="ops-stats">
                          <div class="stat-line"><span>ROLE:</span><span>National Law / security</span></div>
    
                            <div class="stat-line"><span>RANK:</span><span class="tier-1">Tier 1 special Ops; Commander of the Airforce</span></div>
                            <div class="stat-line"><span>BORN:</span><span>22 October 1999</span></div>
                            <div class="stat-line"><span>SHIFT:</span><span> // Mon to Sat :: 09:00am - 17:00pm // Sunday - 20:00pm - 22:00pm</span></div>
                        </div>
                    </div>
    
                    <div class="ops-card">
                        <div class="ops-header">
                            <img src="images/bayanda.jpg" class="ops-img" alt="Bayanda">
                            <div class="ops-info">
                                <h3>Bayanda</h3>
                                <span>11. SENIOR SOFTWARE DEVELOPER</span>
                            </div>
                        </div>
                        <div class="ops-stats">
                          <div class="stat-line"><span>ROLE:</span><span>Full-Stack SDLC</span></div>
    
                            <div class="stat-line"><span>RANK:</span><span class="tier-1">ONE FOR THE PACK - Tier 4</span></div>
                            <div class="stat-line"><span>BORN:</span><span>--</span></div>
                            <div class="stat-line"><span>SHIFT:</span><span> // Mon to Wed :: 12:00pm - 16:00pm // Sunday - 20:00pm - 22:00pm</span></div>
                        </div>
                    </div>
            </div>
        </section>

        <section id="subsidiaries">
            <div class="section-header">
                <h2 class="section-title">Branches of the Tree of Life</h2>
                <div class="separator"></div>
            </div>
            <div class="branch-grid">
                <!-- Branch cards (keep your existing ones) -->
                <div class="branch-card">
                    <div class="branch-logo-frame">
                        <img src="images/parables.png" alt="Parables & Platters" class="branch-logo">
                        <div class="logo-scan"></div>
                    </div>
                    <h3>01. Parables & Platters</h3>
                    <p>Sector: Food</p>
                    <div class="stat-line" style="margin-top:15px"><span>CIPC Status:</span><span class="tier-1">ACTIVE</span></div>
                </div>
                <!-- Add remaining branch cards here... -->
                    <div class="branch-card">
                        <div class="branch-logo-frame">
                        <img src="images/hopco.jpg" alt="HopCo Transportation" class="branch-logo">
                        <div class="logo-scan"></div>
                        </div>
                        <h3>02. HopCo Transportation</h3>
                        <p>Sector: Tactical Transportation</p>
                        <div class="stat-line" style="margin-top:15px"><span>CIPC Status:</span><span class="tier-1">ACTIVE</span></div>
                        <div class="stat-line" style="margin-top:15px"><span>main entrance:</span><button style="background-color: orange;"><a href="hopco.html" style="text-decoration: none; color: black"><span title="click...">click to access </span></a></button></div>
                    </div>
    
                    <div class="branch-card">
                        <div class="branch-logo-frame">
                        <img src="images/ss.png" alt="Stainless Steel" class="branch-logo">
                        <div class="logo-scan"></div>
                        </div>
                        <h3>03. Stainless Steel</h3>
                        <p>Sector: Private Security</p>
                        <div class="stat-line" style="margin-top:15px"><span>CIPC Status:</span><span class="tier-1">N/A</span></div>
                        <div class="stat-line" style="margin-top:15px"><span>main entrance:</span><button style="background-color: orange;"><a href="hopco.html" style="text-decoration: none; color: black"><span title="click...">click to access </span></a></button></div>
                    </div>
    
                    <div class="branch-card">
                        <div class="branch-logo-frame">
                        <img src="images/lawk.png" alt="Lawk National" class="branch-logo">
                        <div class="logo-scan"></div>
                        </div>
                        <h3>04. Lawk National</h3>
                        <p>Sector: Law</p>
                        <div class="stat-line" style="margin-top:15px"><span>CIPC Status:</span><span class="tier-1">N/A</span></div>
                        <div class="stat-line" style="margin-top:15px"><span>main entrance:</span><button style="background-color: orange;"><a href="hopco.html" style="text-decoration: none; color: black"><span title="click...">click to access </span></a></button></div>
                    </div>
            </div>
        </section>

        <section id="terminal-section">
            <div class="section-header">
                <h2 class="section-title">Terminal</h2>
                <div class="separator"></div>
            </div>
            <div id="terminal-wrap">
                <div id="terminal-output">
                    <div>[ Eden stealth CV-1 portal INITIALIZING ]</div>
                    <div>[ ENCRYPTION: running ]</div>
                    <br>
                    <div>type 'help' for commands...</div>
                </div>
                <div class="terminal-input-row">
                    <span>EDEN@OP_UNIT:~$</span>
                    <input type="text" id="term-input" spellcheck="false" autocomplete="off">
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer id="main-footer">
        <div class="footer-grid">
            <div>
                <h4 style="font-family: var(--font-tactical); margin-bottom: 20px;">Eden stealth CV-1</h4>
            </div>
            <div>
                <h4 style="font-family: var(--font-tactical); margin-bottom: 20px;">QUICK LINKS</h4>
                <button class="btn-tactical" style="width:100%; margin-bottom:10px;" onclick="alert('Documents hub')">DOCUMENTS</button>
                <button class="btn-tactical" style="width:100%; margin-bottom:10px;"><a href="https://oldgamesdownload.com/file/62627-2/" style="text-decoration: none; color: var(--cyan);">Conflict: Vietnam</a></button>
                <button class="btn-tactical" style="width:100%; margin-bottom:10px;"><a href="#" style="text-decoration: none; color: var(--cyan);">EU (ETERNAL UNIVERSITY)</a></button>
                <button class="btn-tactical" style="width:100%;"><a href="#" style="text-decoration: none; color: var(--cyan);">KJV Holy Bible</a></button>
            </div>
            <div class="weather-panel">
                <div style="font-family: var(--font-mono); font-size: 0.8rem; margin-bottom: 10px;">LIVE WEATHER // CAPE TOWN</div>
                <div id="weather-temp" style="font-size: 2rem; font-family: var(--font-tactical);">--°C</div>
                <div id="weather-desc" style="font-family: var(--font-mono);">SYNCING...</div>
            </div>
        </div>
        <div style="margin-top:30px;">
            <div id="sys-clock" style="font-family: var(--font-tactical); font-size: 2rem; letter-spacing: 3px; margin-top: 5px; text-shadow: var(--cyan-glow);">
                --:--:--
            </div>
        </div>
        <button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>
        <p style="font-family: var(--font-mono); opacity: 0.5; margin-top: 40px;">
            &copy; <span id="year"></span> Eden stealth CV-1. ALL RIGHTS RESERVED.<br>
            under the solid protection of our stainless steel branch.
        </p>
        <button id="installBtn">INSTALL OUR MOBILE APP</button>
    </footer>

    <!-- Modals -->
    <div class="modal-overlay" id="visionModal">
        <div class="modal-body">
            <span class="close-modal" onclick="closeModal('visionModal')">&times;</span>
            <h2 class="section-title">ES-CV-1 MANIFEST</h2>
            <div style="margin-top: 30px; line-height: 1.8; font-size: 1.1rem;">
                <p><strong>Direct Action code: CV-5</strong></p>
            </div>
        </div>
    </div>

    <!-- Audio System -->
    <audio id="bgAudio" loop preload="auto" style="display:none">
        <source src="background.mp3" type="audio/mpeg">
        <source src="background.ogg" type="audio/ogg">
    </audio>
    <audio id="anthemAudio" preload="auto" style="display:none">
        <source src="National_Anthem_RSA.mp3" type="audio/mpeg">
        <source src="National_Anthem_RSA.ogg" type="audio/ogg">
    </audio>
    <div id="audioStatus" class="audio-status">
        <span class="audio-indicator"></span>
        <span class="audio-text">SYSTEM READY</span>
    </div>

    <!-- Flag -->
    <img src="images/RSA_Flag1.jpg" id="rsaFlag" alt="South African Flag">
    <div class="nav-overlay" id="navOverlay"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

    <script>
        /* ===============================
        FORCE PAGE TO LOAD FROM TOP
        ================================ */
        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }

        window.addEventListener("load", () => {
            window.scrollTo({ top: 0, left: 0, behavior: "auto" });
        });

        /* ===============================
        CORE ENGINE
        ================================ */
        const sysTime = document.getElementById('sys-clock');
        const yearSpan = document.getElementById('year');
        const termInput = document.getElementById('term-input');
        const termOutput = document.getElementById('terminal-output');

        if (yearSpan) yearSpan.innerText = new Date().getFullYear();

        function scrollToSection(id) {
            const el = document.getElementById(id);
            if (el) window.scrollTo({ top: el.offsetTop - 90, behavior: 'smooth' });
        }

        function openModal(id) { document.getElementById(id).style.display = 'flex'; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }

        // Reveal Animations
        const observerOptions = { threshold: 0.1 };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('revealed');
            });
        }, observerOptions);
        document.querySelectorAll('section').forEach(sec => observer.observe(sec));

        /* ===============================
        TERMINAL LOGIC
        ================================ */
        function printToTerm(text, color = "inherit") {
            const div = document.createElement('div');
            div.style.color = color;
            div.innerHTML = `> ${text}`;
            termOutput.appendChild(div);
            termOutput.scrollTop = termOutput.scrollHeight;
        }

        termInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const raw = termInput.value.trim();
                const val = raw.toLowerCase();
                termInput.value = '';

                if (raw === '1.') {
                    printToTerm('PASSING BIOMETRIC...', 'var(--cyan)');
                    let dots = 0;
                    const loadingLine = document.createElement('div');
                    loadingLine.style.color = 'var(--cyan)';
                    loadingLine.innerHTML = '> AUTHENTICATING';
                    termOutput.appendChild(loadingLine);
                    termOutput.scrollTop = termOutput.scrollHeight;

                    const loadingInterval = setInterval(() => {
                        dots = (dots + 1) % 4;
                        loadingLine.innerHTML = '> AUTHENTICATING' + '.'.repeat(dots);
                        termOutput.scrollTop = termOutput.scrollHeight;
                    }, 400);

                    setTimeout(() => {
                        clearInterval(loadingInterval);
                        window.location.href = "direct_action.html";
                    }, 2200);
                    return;
                }

                if (val === 'help') {
                    printToTerm('Available: clear | status | scan ops | open manifesto');
                } else if (val === 'clear') {
                    termOutput.innerHTML = '';
                } else if (val === 'status') {
                    printToTerm('UNIT: CV-7 | STATUS: STEALTH | ACCESS: TIER 1');
                } else if (val === 'scan ops') {
                    scrollToSection('board');
                    printToTerm('Scanning Operators...');
                } else if (val === 'open manifesto') {
                    openModal('visionModal');
                } else {
                    printToTerm(`Command '${raw}' not recognized. Type 'help'.`, '#ff0055');
                }
            }
        });

        /* ===============================
        SNOW ENGINE
        ================================ */
        const snowCanvas = document.getElementById("snowCanvas");
        const ctx = snowCanvas.getContext("2d");
        let snowflakes = [];
        let snowCount = window.innerWidth < 768 ? 80 : 140;

        function resizeSnow() {
            const scale = window.devicePixelRatio || 1;
            snowCanvas.width = window.innerWidth * scale;
            snowCanvas.height = window.innerHeight * scale;
            snowCanvas.style.width = window.innerWidth + "px";
            snowCanvas.style.height = window.innerHeight + "px";
            ctx.setTransform(scale, 0, 0, scale, 0, 0);
        }
        window.addEventListener("resize", resizeSnow);
        resizeSnow();

        class Snowflake {
            constructor() { this.reset(); }
            reset() {
                this.x = Math.random() * snowCanvas.width;
                this.y = Math.random() * -snowCanvas.height;
                this.radius = Math.random() * 2.2 + 0.5;
                this.speedY = Math.random() * 0.6 + 0.3;
                this.speedX = Math.random() * 0.4 - 0.2;
                this.opacity = Math.random() * 0.5 + 0.3;
            }
            update() {
                this.y += this.speedY;
                this.x += this.speedX + Math.sin(this.y * 0.01) * 0.2;
                if (this.y > snowCanvas.height) {
                    this.reset();
                    this.y = 0;
                }
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255,255,255,${this.opacity})`;
                ctx.fill();
            }
        }

        function createSnow() {
            snowflakes = [];
            for (let i = 0; i < snowCount; i++) snowflakes.push(new Snowflake());
        }

        let snowAnimationId;
        function animateSnow() {
            ctx.clearRect(0, 0, snowCanvas.width, snowCanvas.height);
            snowflakes.forEach(flake => { flake.update(); flake.draw(); });
            snowAnimationId = requestAnimationFrame(animateSnow);
        }
        createSnow();
        animateSnow();

        document.addEventListener("visibilitychange", () => {
            if (document.hidden) cancelAnimationFrame(snowAnimationId);
            else animateSnow();
        });

        /* ===============================
        WEATHER ENGINE
        ================================ */
        async function fetchWeather() {
            try {
                const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=-33.92&longitude=18.42&current_weather=true');
                const data = await res.json();
                document.getElementById('weather-temp').innerText = Math.round(data.current_weather.temperature) + '°C';
                document.getElementById('weather-desc').innerText = `CAPE TOWN AIRFORCE BASE // WIND ${data.current_weather.windspeed} km/h`;
            } catch (e) {
                document.getElementById('weather-temp').innerText = "OFFLINE";
                document.getElementById('weather-desc').innerText = "WEATHER LINK LOST";
            }
        }
        fetchWeather();

        /* ===============================
        CAPE TOWN CLOCK
        ================================ */
        function updateClockCapeTown() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-ZA', { timeZone: 'Africa/Johannesburg', hour12: false });
            const dateString = now.toLocaleDateString('en-ZA', { timeZone: 'Africa/Johannesburg', weekday: 'long', year: 'numeric', month: 'long', day: '2-digit' });
            const clockEl = document.getElementById('sys-clock');
            if (clockEl) {
                clockEl.innerHTML = `${timeString}<div style="font-size:0.8rem; font-family: var(--font-mono); opacity:0.7; margin-top:4px;">${dateString} // CAPE TOWN, SOUTH AFRICA</div>`;
            }
        }
        updateClockCapeTown();
        setInterval(updateClockCapeTown, 1000);

        /* ===============================
        TYPEWRITER EFFECT
        ================================ */
        function initTypewriter() {
            const el = document.querySelector('.typing-effect');
            if (!el) return;
            const text = el.getAttribute('data-text');
            let i = 0;
            el.innerHTML = '';
            function type() { if (i < text.length) { el.innerHTML += text.charAt(i); i++; setTimeout(type, 80); } }
            type();
        }

        /* ===============================
        SIMPLIFIED MENU SYSTEM - GUARANTEED TO WORK
        =============================== */
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.getElementById("hamburger");
            const nav = document.querySelector(".nav-system");
            const overlay = document.querySelector(".nav-overlay");
            const navLinks = document.querySelectorAll(".nav-link");
        
            if (!hamburger || !nav) {
                console.error("Menu elements not found");
                return;
            }
        
            // Simple menu toggle functions
            function openMenu() {
                nav.classList.add("open");
                if (overlay) overlay.classList.add("active");
                hamburger.classList.add("active");
                document.body.style.overflow = "hidden";
            }
        
            function closeMenu() {
                nav.classList.remove("open");
                if (overlay) overlay.classList.remove("active");
                hamburger.classList.remove("active");
                document.body.style.overflow = "";
            }
        
            // Hamburger click - just toggle menu
            hamburger.onclick = function(e) {
                e.preventDefault();
                e.stopPropagation();
                if (nav.classList.contains("open")) {
                    closeMenu();
                } else {
                    openMenu();
                }
                return false;
            };
        
            // Overlay click - close menu
            if (overlay) {
                overlay.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    closeMenu();
                    return false;
                };
            }
        
            // SIMPLE LINK HANDLING - NO COMPLEX LOGIC
            navLinks.forEach(link => {
                // Remove any existing handlers
                link.removeEventListener('click', () => {});
                
                // Set new handler
                link.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const href = this.getAttribute('href');
                    console.log('Navigating to:', href);
                    
                    // Close menu
                    closeMenu();
                    
                    // Navigate after a tiny delay to ensure menu closes
                    setTimeout(function() {
                        if (href.startsWith('#')) {
                            // Smooth scroll to section
                            const targetId = href.substring(1);
                            const targetElement = document.getElementById(targetId);
                            if (targetElement) {
                                targetElement.scrollIntoView({ 
                                    behavior: 'smooth',
                                    block: 'start'
                                });
                            }
                        } else {
                            // Navigate to other page
                            window.location.href = href;
                        }
                    }, 50);
                    
                    return false;
                };
            });
        
            // Close on escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && nav.classList.contains('open')) {
                    closeMenu();
                }
            });
        
            // Close when clicking outside
            document.addEventListener('click', function(e) {
                if (nav.classList.contains('open') && 
                    !nav.contains(e.target) && 
                    !hamburger.contains(e.target)) {
                    closeMenu();
                }
            });
        
            console.log("✅ Simplified menu system initialized");
        });
        
        /* ===============================
        INTERNAL REFRESH
        ================================ */
        window.internalRefresh = function() {
            console.log("⚡ INTERNAL REFRESH ACTIVATED");
            
            showRefreshNotification();
            
            window.scrollTo({ top: 0, behavior: "smooth" });
            
            document.querySelector(".nav-system")?.classList.remove("open");
            document.querySelector(".nav-overlay")?.classList.remove("active");
            document.querySelectorAll(".modal-overlay").forEach(modal => modal.style.display = "none");
            
            setTimeout(() => resetTerminal(), 100);
            setTimeout(() => restartSnow(), 300);
            setTimeout(() => refreshWeather(), 500);
            setTimeout(() => resetTypewriter(), 700);
            setTimeout(() => resetAnimations(), 900);
            setTimeout(() => refreshClock(), 1100);
            setTimeout(() => checkConnectivity(), 1300);
            setTimeout(() => clearMemoryCache(), 1500);
            setTimeout(() => { verifyRefresh(); hideRefreshNotification(); }, 2000);
        };

        function showRefreshNotification() {
            const existing = document.getElementById('refresh-notification');
            if (existing) existing.remove();
            
            const notification = document.createElement('div');
            notification.id = 'refresh-notification';
            notification.innerHTML = `
                <div class="refresh-icon">↻</div>
                <div class="refresh-text">REFRESHING SYSTEMS</div>
                <div class="refresh-progress"><div class="refresh-bar" id="refreshBar"></div></div>
                <div class="refresh-status" id="refreshStatus">Initializing...</div>
            `;
            document.body.appendChild(notification);
            
            let width = 0;
            const bar = document.getElementById('refreshBar');
            const status = document.getElementById('refreshStatus');
            const interval = setInterval(() => {
                width += 2;
                if (bar) bar.style.width = width + '%';
                if (width === 20) status.textContent = 'Terminal reset';
                if (width === 40) status.textContent = 'Snow engine restart';
                if (width === 60) status.textContent = 'Weather sync';
                if (width === 80) status.textContent = 'Animations reset';
                if (width >= 100) { clearInterval(interval); status.textContent = 'Complete'; }
            }, 30);
        }

        function hideRefreshNotification() {
            const notification = document.getElementById('refresh-notification');
            if (notification) {
                notification.style.animation = 'fadeOut 0.3s forwards';
                setTimeout(() => notification.remove(), 300);
            }
        }

        function resetTerminal() {
            const termOutput = document.getElementById('terminal-output');
            if (termOutput) {
                termOutput.innerHTML = `
                    <div style="color: var(--cyan);">[ SYSTEM REFRESH: ${new Date().toLocaleTimeString()} ]</div>
                    <div>[ MEMORY: CLEARED ]</div>
                    <div>[ CACHE: FLUSHED ]</div><br><div>type 'help' for commands...</div>`;
                termOutput.scrollTop = 0;
            }
            const termInput = document.getElementById('term-input');
            if (termInput) termInput.value = '';
        }

        function restartSnow() {
            if (window.snowAnimationId) cancelAnimationFrame(window.snowAnimationId);
            createSnow(); animateSnow();
        }

        function refreshWeather() { fetchWeather(); }
        function resetTypewriter() { const el = document.querySelector('.typing-effect'); if (el) { el.innerHTML = ''; initTypewriter(); } }
        function resetAnimations() { document.querySelectorAll("section").forEach(sec => { sec.classList.remove("revealed"); observer.observe(sec); }); }
        function refreshClock() { updateClockCapeTown(); }
        function checkConnectivity() { const banner = document.getElementById('offline-banner'); if (banner) banner.style.display = navigator.onLine ? 'none' : 'block'; }
        function clearMemoryCache() { const theme = localStorage.getItem('edenTheme'); sessionStorage.clear(); if (theme) localStorage.setItem('edenTheme', theme); }
        function verifyRefresh() {
            const termOutput = document.getElementById('terminal-output');
            if (termOutput) {
                const verifyLine = document.createElement('div');
                verifyLine.style.color = '#00ff00';
                verifyLine.innerHTML = '> [ OK ] All systems verified';
                termOutput.appendChild(verifyLine);
                termOutput.scrollTop = termOutput.scrollHeight;
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && e.key === 'R') { e.preventDefault(); window.internalRefresh(); }
        });

        /* ===============================
        PWA INSTALL
        ================================ */
        let deferredPrompt = null;
        window.addEventListener("DOMContentLoaded", () => {
            const installBtn = document.getElementById("installBtn");
            if (!installBtn) return;
            installBtn.style.display = "none";

            if ("serviceWorker" in navigator) {
                navigator.serviceWorker.register("sw.js").catch(err => console.error("SW Failed:", err));
            }

            if (window.matchMedia("(display-mode: standalone)").matches || window.navigator.standalone === true) {
                console.log("App already installed");
                return;
            }

            window.addEventListener("beforeinstallprompt", (e) => {
                e.preventDefault();
                deferredPrompt = e;
                installBtn.style.display = "inline-block";
            });

            installBtn.addEventListener("click", async () => {
                if (!deferredPrompt) return;
                installBtn.innerText = "INSTALLING...";
                installBtn.classList.add("installing");
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === "accepted") {
                    installBtn.innerText = "INSTALLED";
                } else {
                    installBtn.innerText = "INSTALL APP";
                }
                deferredPrompt = null;
                installBtn.style.display = "none";
            });
        });

        /* ===============================
        OFFLINE BANNER
        ================================ */
        window.addEventListener('online', () => { const banner = document.getElementById('offline-banner'); if (banner) banner.style.display = 'none'; });
        window.addEventListener('offline', () => { const banner = document.getElementById('offline-banner'); if (banner) banner.style.display = 'block'; });

        /* ===============================
        SPLASH SCREEN
        ================================ */
        (function() {
            const splash = document.getElementById('eliteSplash');
            const bar = document.getElementById('splashBar');
            const percentageEl = document.getElementById('loadingPercentage');
            const statusEl = document.getElementById('loadingStatus');
            const progressEl = document.getElementById('loadingProgress');
            
            if (!splash) return;
            
            const statusMessages = [
                { time: 0, msg: 'INITIALIZING CORE SYSTEMS...' },
                { time: 1, msg: 'LOADING ENCRYPTION MODULES...' },
                { time: 2, msg: 'ESTABLISHING SECURE LINK...' },
                { time: 3, msg: 'VERIFYING INTEGRITY...' },
                { time: 4, msg: 'ACTIVATING STEALTH PROTOCOLS...' }
            ];
            
            let startTime = Date.now();
            const duration = 4500;
            
            function updateSplash() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration * 100, 100);
                
                if (percentageEl) percentageEl.textContent = Math.floor(progress) + '%';
                if (progressEl) {
                    const seconds = Math.floor(elapsed / 1000);
                    const ms = Math.floor((elapsed % 1000) / 10);
                    progressEl.textContent = `[00:0${seconds}:${ms.toString().padStart(2, '0')}]`;
                }
                if (statusEl) {
                    const index = Math.min(Math.floor(elapsed / 1000), statusMessages.length - 1);
                    if (statusMessages[index]) statusEl.textContent = statusMessages[index].msg;
                }
                
                if (elapsed < duration) {
                    requestAnimationFrame(updateSplash);
                } else {
                    const biometric = document.querySelector('.system-check:last-child .check-status');
                    if (biometric) {
                        biometric.innerHTML = '● ACTIVE';
                        biometric.className = 'check-status status-active';
                    }
                }
            }
            
            requestAnimationFrame(updateSplash);
            setTimeout(() => { if (splash && splash.parentNode) splash.remove(); }, 5000);
        })();

        /* ===============================
        THEME SYSTEM
        ================================ */
        function toggleTheme() {
            document.body.classList.toggle("green-yellow");
            localStorage.setItem("edenTheme", document.body.classList.contains("green-yellow") ? "green-yellow" : "default");
        }
        (function() {
            if (localStorage.getItem("edenTheme") === "green-yellow") document.body.classList.add("green-yellow");
        })();

        /* ===============================
        AUDIO SYSTEM - POST SPLASH + VISUAL FEEDBACK
        ================================ */
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initAudioSystem, 5000);
        });

        function initAudioSystem() {
            console.log("🎵 Initializing audio system...");
            
            const bg = document.getElementById('bgAudio');
            const anthem = document.getElementById('anthemAudio');
            const flag = document.getElementById('rsaFlag');
            const statusEl = document.getElementById('audioStatus');
            const indicator = statusEl?.querySelector('.audio-indicator');
            const textEl = statusEl?.querySelector('.audio-text');
            
            if (!bg || !anthem || !flag) {
                console.error("Audio elements not found");
                return;
            }
            
            let anthemPlaying = false;
            let userInteracted = false;
            
            if (statusEl) {
                statusEl.classList.add('visible');
                if (textEl) textEl.textContent = 'LOADING AUDIO...';
            }
            
            bg.volume = 0.3;
            anthem.volume = 1.0;
            
            function startBackgroundAudio() {
                if (anthemPlaying) return;
                
                bg.play()
                    .then(() => {
                        console.log("✅ Background audio playing");
                        if (indicator) {
                            indicator.classList.remove('anthem');
                            indicator.classList.add('active');
                        }
                        if (textEl) textEl.textContent = 'BACKGROUND ACTIVE';
                        userInteracted = true;
                    })
                    .catch(error => {
                        console.log("⏳ Background autoplay blocked - waiting for user interaction");
                        if (textEl) textEl.textContent = 'CLICK FLAG TO PLAY';
                        if (indicator) indicator.classList.remove('active', 'anthem');
                        
                        document.addEventListener('click', function once() {
                            if (!anthemPlaying) bg.play().catch(e => console.log("Still blocked:", e));
                            document.removeEventListener('click', once);
                        }, { once: true });
                    });
            }
            
            setTimeout(startBackgroundAudio, 100);
            
            flag.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                if (!anthemPlaying) {
                    anthem.currentTime = 0;
                    bg.pause();
                    
                    anthem.play()
                        .then(() => {
                            console.log("✅ National Anthem playing");
                            anthemPlaying = true;
                            flag.classList.add('playing');
                            
                            if (indicator) {
                                indicator.classList.remove('active');
                                indicator.classList.add('anthem');
                            }
                            if (textEl) textEl.textContent = 'NATIONAL ANTHEM';
                        })
                        .catch(error => {
                            console.error("❌ Anthem playback failed:", error);
                            if (textEl) textEl.textContent = 'ANTHEM ERROR';
                            bg.play().catch(e => console.log("Background resume failed:", e));
                        });
                } else {
                    anthem.pause();
                    anthem.currentTime = 0;
                    anthemPlaying = false;
                    flag.classList.remove('playing');
                    
                    bg.play()
                        .then(() => {
                            console.log("✅ Resumed background");
                            if (indicator) {
                                indicator.classList.remove('anthem');
                                indicator.classList.add('active');
                            }
                            if (textEl) textEl.textContent = 'BACKGROUND ACTIVE';
                        })
                        .catch(error => {
                            console.log("Background resume failed:", error);
                            if (textEl) textEl.textContent = 'READY';
                        });
                }
            });
            
            flag.addEventListener('touchstart', function(e) {
                e.preventDefault();
                e.stopPropagation();
                flag.click();
            }, { passive: false });
            
            anthem.addEventListener('ended', function() {
                console.log("Anthem ended naturally");
                anthemPlaying = false;
                flag.classList.remove('playing');
                
                bg.play()
                    .then(() => {
                        if (indicator) {
                            indicator.classList.remove('anthem');
                            indicator.classList.add('active');
                        }
                        if (textEl) textEl.textContent = 'BACKGROUND ACTIVE';
                    })
                    .catch(e => console.log("Background resume failed:", e));
            });
            
            anthem.addEventListener('error', function(e) {
                console.error("Anthem error:", e);
                anthemPlaying = false;
                flag.classList.remove('playing');
                if (textEl) textEl.textContent = 'ANTHEM ERROR';
                bg.play().catch(e => console.log("Background resume failed:", e));
            });
            
            bg.addEventListener('error', function(e) {
                console.error("Background error:", e);
                if (textEl) textEl.textContent = 'AUDIO ERROR';
                setTimeout(() => {
                    bg.load();
                    if (!anthemPlaying) bg.play().catch(e => console.log("Recovery failed:", e));
                }, 2000);
            });
            
            document.addEventListener('visibilitychange', function() {
                if (document.hidden) {
                    bg.pause();
                    if (anthemPlaying) anthem.pause();
                } else {
                    if (!anthemPlaying) bg.play().catch(e => console.log("Resume on visibility failed:", e));
                    else anthem.play().catch(e => console.log("Resume anthem failed:", e));
                }
            });
            
            setInterval(function() {
                if (!anthemPlaying && bg.paused && userInteracted) {
                    console.log("Background should be playing but isn't - restarting");
                    bg.play().catch(e => console.log("Recovery play failed:", e));
                }
            }, 10000);
            
            console.log("🎵 Audio system initialized");
        }

        window.onload = () => {
            initTypewriter();
            console.log("Eden stealth CV-1: Tier 1 active.");
        };
        
    </script>
    
</body>
    
    </html>





    
